<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4. Command Reference. &mdash; LightPipes for Python 2.1.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=786ba454"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. User defined functions." href="UserDefinedFunctions.html" />
    <link rel="prev" title="3. Support." href="support.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            LightPipes for Python
              <img src="_static/front.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.1.5
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction.</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">2. Installation.</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">3. Support.</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Command Reference.</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.ABCD"><code class="docutils literal notranslate"><span class="pre">ABCD</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.AiryBeam1D"><code class="docutils literal notranslate"><span class="pre">AiryBeam1D</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.AiryBeam2D"><code class="docutils literal notranslate"><span class="pre">AiryBeam2D</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Axicon"><code class="docutils literal notranslate"><span class="pre">Axicon</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.BeamMix"><code class="docutils literal notranslate"><span class="pre">BeamMix</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Begin"><code class="docutils literal notranslate"><span class="pre">Begin</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Centroid"><code class="docutils literal notranslate"><span class="pre">Centroid</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.CircAperture"><code class="docutils literal notranslate"><span class="pre">CircAperture</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.CircScreen"><code class="docutils literal notranslate"><span class="pre">CircScreen</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Convert"><code class="docutils literal notranslate"><span class="pre">Convert</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.CylindricalLens"><code class="docutils literal notranslate"><span class="pre">CylindricalLens</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.D4sigma"><code class="docutils literal notranslate"><span class="pre">D4sigma</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.FieldArray2D"><code class="docutils literal notranslate"><span class="pre">FieldArray2D</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Forvard"><code class="docutils literal notranslate"><span class="pre">Forvard</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Forward"><code class="docutils literal notranslate"><span class="pre">Forward</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Fresnel"><code class="docutils literal notranslate"><span class="pre">Fresnel</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.GForvard"><code class="docutils literal notranslate"><span class="pre">GForvard</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.GLens"><code class="docutils literal notranslate"><span class="pre">GLens</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Gain"><code class="docutils literal notranslate"><span class="pre">Gain</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.GaussAperture"><code class="docutils literal notranslate"><span class="pre">GaussAperture</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.GaussBeam"><code class="docutils literal notranslate"><span class="pre">GaussBeam</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.GaussHermite"><code class="docutils literal notranslate"><span class="pre">GaussHermite</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.GaussLaguerre"><code class="docutils literal notranslate"><span class="pre">GaussLaguerre</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.GaussScreen"><code class="docutils literal notranslate"><span class="pre">GaussScreen</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.IntAttenuator"><code class="docutils literal notranslate"><span class="pre">IntAttenuator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Intensity"><code class="docutils literal notranslate"><span class="pre">Intensity</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Interpol"><code class="docutils literal notranslate"><span class="pre">Interpol</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.LPdemo"><code class="docutils literal notranslate"><span class="pre">LPdemo</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.LPhelp"><code class="docutils literal notranslate"><span class="pre">LPhelp</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.LPtest"><code class="docutils literal notranslate"><span class="pre">LPtest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Lens"><code class="docutils literal notranslate"><span class="pre">Lens</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.LensFarfield"><code class="docutils literal notranslate"><span class="pre">LensFarfield</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.LensForvard"><code class="docutils literal notranslate"><span class="pre">LensForvard</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.LensFresnel"><code class="docutils literal notranslate"><span class="pre">LensFresnel</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.MultIntensity"><code class="docutils literal notranslate"><span class="pre">MultIntensity</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.MultPhase"><code class="docutils literal notranslate"><span class="pre">MultPhase</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Normal"><code class="docutils literal notranslate"><span class="pre">Normal</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Phase"><code class="docutils literal notranslate"><span class="pre">Phase</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.PhaseSpiral"><code class="docutils literal notranslate"><span class="pre">PhaseSpiral</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.PhaseUnwrap"><code class="docutils literal notranslate"><span class="pre">PhaseUnwrap</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.PipFFT"><code class="docutils literal notranslate"><span class="pre">PipFFT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.PlaneWave"><code class="docutils literal notranslate"><span class="pre">PlaneWave</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.PointSource"><code class="docutils literal notranslate"><span class="pre">PointSource</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Power"><code class="docutils literal notranslate"><span class="pre">Power</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Propagate"><code class="docutils literal notranslate"><span class="pre">Propagate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.RandomIntensity"><code class="docutils literal notranslate"><span class="pre">RandomIntensity</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.RandomPhase"><code class="docutils literal notranslate"><span class="pre">RandomPhase</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.RectAperture"><code class="docutils literal notranslate"><span class="pre">RectAperture</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.RectScreen"><code class="docutils literal notranslate"><span class="pre">RectScreen</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.RowOfFields"><code class="docutils literal notranslate"><span class="pre">RowOfFields</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Steps"><code class="docutils literal notranslate"><span class="pre">Steps</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Strehl"><code class="docutils literal notranslate"><span class="pre">Strehl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.SubIntensity"><code class="docutils literal notranslate"><span class="pre">SubIntensity</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.SubPhase"><code class="docutils literal notranslate"><span class="pre">SubPhase</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.SuperGaussAperture"><code class="docutils literal notranslate"><span class="pre">SuperGaussAperture</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Tilt"><code class="docutils literal notranslate"><span class="pre">Tilt</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.Zernike"><code class="docutils literal notranslate"><span class="pre">Zernike</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.ZernikeFilter"><code class="docutils literal notranslate"><span class="pre">ZernikeFilter</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.ZernikeFit"><code class="docutils literal notranslate"><span class="pre">ZernikeFit</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.ZernikeName"><code class="docutils literal notranslate"><span class="pre">ZernikeName</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.ZernikeName2Noll"><code class="docutils literal notranslate"><span class="pre">ZernikeName2Noll</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.ZonePlate"><code class="docutils literal notranslate"><span class="pre">ZonePlate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#LightPipes.noll_to_zern"><code class="docutils literal notranslate"><span class="pre">noll_to_zern</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="UserDefinedFunctions.html">5. User defined functions.</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual.html">6. Manual.</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">7. Examples.</a></li>
<li class="toctree-l1"><a class="reference internal" href="computerprac.html">8. Computer practical.</a></li>
<li class="toctree-l1"><a class="reference internal" href="Diaprojector.html">9. Diaprojector (In Dutch).</a></li>
</ul>

    <a href="genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LightPipes for Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">4. </span>Command Reference.</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/command-reference.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-LightPipes">
<span id="command-reference"></span><span id="commandref"></span><h1><span class="section-number">4. </span>Command Reference.<a class="headerlink" href="#module-LightPipes" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.ABCD">
<span class="sig-name descname"><span class="pre">ABCD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.ABCD" title="Link to this definition"></a></dt>
<dd><p><em>Propagates a pure Gaussian field using ABCD matrix theory.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field, must be pare Gaussian.</p></li>
<li><p><strong>M</strong> (<em>List</em>) – 2 x 2 ABCD matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">LightPipes</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">wavelength</span> <span class="o">=</span> <span class="mi">500</span><span class="o">*</span><span class="n">nm</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">7</span><span class="o">*</span><span class="n">mm</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">w0</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">mm</span>
<span class="n">f</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">m</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">m</span>

<span class="n">M_lens</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span>       <span class="mf">0.0</span><span class="p">],</span>
    <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="n">f</span><span class="p">,</span>    <span class="mf">1.0</span><span class="p">]</span>
  <span class="p">]</span>

<span class="n">M_propagate</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span>       <span class="n">z</span> <span class="p">],</span>
    <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span>       <span class="mf">1.0</span><span class="p">]</span>
  <span class="p">]</span>

<span class="n">F</span> <span class="o">=</span> <span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">GaussBeam</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">w0</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">ABCD</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">M_lens</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">ABCD</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">M_propagate</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.AiryBeam1D">
<span class="sig-name descname"><span class="pre">AiryBeam1D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.AiryBeam1D" title="Link to this definition"></a></dt>
<dd><p><em>Creates a 1D nonspreading Airy beam.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F(x,y,z=0) = Ai\left(\dfrac{x}{x_0}\right)e^{ax}\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>x0</strong> (<em>int</em><em>, </em><em>float</em>) – scale x (default = 1*mm)</p></li>
<li><p><strong>a</strong> (<em>int</em><em>, </em><em>float</em>) – degree of apodization x (default = 0.1/mm)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">LightPipes</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">wavelength</span> <span class="o">=</span> <span class="mf">2.3</span><span class="o">*</span><span class="n">um</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">30</span><span class="o">*</span><span class="n">mm</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">N2</span><span class="o">=</span><span class="n">N</span><span class="o">//</span><span class="mi">2</span>
<span class="n">x0</span><span class="o">=</span><span class="mf">0.3</span><span class="o">*</span><span class="n">mm</span>
<span class="n">a</span><span class="o">=</span><span class="mf">0.1</span><span class="o">/</span><span class="n">mm</span>
<span class="n">dz</span><span class="o">=</span><span class="mf">1.25</span><span class="o">*</span><span class="n">cm</span>
<span class="n">NZ</span><span class="o">=</span><span class="mi">200</span>

<span class="n">F0</span><span class="o">=</span><span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="n">F0</span><span class="o">=</span><span class="n">AiryBeam1D</span><span class="p">(</span><span class="n">F0</span><span class="p">,</span><span class="n">x0</span><span class="o">=</span><span class="n">x0</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="n">Ix</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">NZ</span><span class="p">):</span>
    <span class="n">F</span><span class="o">=</span><span class="n">Forvard</span><span class="p">(</span><span class="n">F0</span><span class="p">,</span><span class="n">dz</span><span class="o">*</span><span class="n">k</span><span class="p">)</span>
    <span class="n">I</span><span class="o">=</span><span class="n">Intensity</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
    <span class="n">Ix</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">Ix</span><span class="p">,</span><span class="n">I</span><span class="p">[</span><span class="n">N2</span><span class="p">]])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Ix</span><span class="p">,</span>
           <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="n">size</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">mm</span><span class="p">,</span> <span class="n">size</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">mm</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">NZ</span><span class="o">*</span><span class="n">dz</span><span class="o">/</span><span class="n">cm</span><span class="p">],</span>
           <span class="n">aspect</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span>
           <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span>
           <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">,</span>
           <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x [mm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;z [cm]&#39;</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;LightPipes for Python&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">+</span> <span class="s1">&#39;1D Airy beam&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$\lambda = </span><span class="si">{:4.2f}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wavelength</span><span class="o">/</span><span class="n">um</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; ${\mu}m$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$size = </span><span class="si">{:4.2f}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">size</span><span class="o">/</span><span class="n">mm</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $mm$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$N = </span><span class="si">{:4d}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$x_0 = </span><span class="si">{:4.2f}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x0</span><span class="o">/</span><span class="n">mm</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $mm$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$a = $&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{:4.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $/mm$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;${\copyright}$ Fred van Goor, May 2022&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;facecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;pad&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/aa95a7983014d10bea9fee8f59f174bc/AiryBeam1D.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/addf310eb36f197fdd94e03eb7764e70/AiryBeam1D.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/711942ddeca822103fdae5486ccf6cd0/AiryBeam1D.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/47da3727a7044f58c76329de3d2c1472/AiryBeam1D.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="_images/AiryBeam1D.png" class="plot-directive" src="_images/AiryBeam1D.png" />
</figure>
<p>ref: M. V. Berry and N. L. Balazs, “Nonspreading wave packets,” Am. J. Phys. 47, 264–267 (1979).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.AiryBeam2D">
<span class="sig-name descname"><span class="pre">AiryBeam2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.AiryBeam2D" title="Link to this definition"></a></dt>
<dd><p><em>Creates a 2D nonspreading Airy beam.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F(x,y,z=0) = Ai\left(\dfrac{x}{x_0}\right)Ai\left(\dfrac{y}{y_0}\right)e^{a_1x+a_2y}\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>x0</strong> (<em>int</em><em>, </em><em>float</em>) – scale x (default = 1*mm)</p></li>
<li><p><strong>y0</strong> (<em>int</em><em>, </em><em>float</em>) – scale y (default = 1*mm)</p></li>
<li><p><strong>a1</strong> (<em>int</em><em>, </em><em>float</em>) – degree of apodization x (default = 0.1/mm)</p></li>
<li><p><strong>a2</strong> (<em>int</em><em>, </em><em>float</em>) – degree of apodization y (default = 0.1/mm)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">LightPipes</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">wavelength</span> <span class="o">=</span> <span class="mf">2.3</span><span class="o">*</span><span class="n">um</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">30</span><span class="o">*</span><span class="n">mm</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">x0</span><span class="o">=</span><span class="n">y0</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="n">mm</span>
<span class="n">a1</span><span class="o">=</span><span class="n">a2</span><span class="o">=</span><span class="mf">0.1</span><span class="o">/</span><span class="n">mm</span>
<span class="n">z</span><span class="o">=</span><span class="mi">900</span><span class="o">*</span><span class="n">cm</span>

<span class="n">F0</span><span class="o">=</span><span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="n">F0</span><span class="o">=</span><span class="n">AiryBeam2D</span><span class="p">(</span><span class="n">F0</span><span class="p">,</span><span class="n">x0</span><span class="o">=</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="n">y0</span><span class="p">,</span> <span class="n">a1</span><span class="o">=</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="o">=</span><span class="n">a2</span><span class="p">)</span>
<span class="n">F</span><span class="o">=</span><span class="n">Fresnel</span><span class="p">(</span><span class="n">F0</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
<span class="n">I</span><span class="o">=</span><span class="n">Intensity</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">I</span><span class="p">,</span>
           <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="n">size</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">mm</span><span class="p">,</span> <span class="n">size</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">mm</span><span class="p">,</span> <span class="o">-</span><span class="n">size</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">mm</span><span class="p">,</span> <span class="n">size</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">mm</span><span class="p">],</span>
           <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span>
           <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">,</span>
           <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;2D Airy beam&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x [mm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y [mm]&#39;</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;LightPipes for Python&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">+</span> <span class="s1">&#39;2D Airy beam&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$\lambda = </span><span class="si">{:4.2f}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">wavelength</span><span class="o">/</span><span class="n">um</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; ${\mu}m$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$size = </span><span class="si">{:4.2f}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">size</span><span class="o">/</span><span class="n">mm</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $mm$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$N = </span><span class="si">{:4d}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$x_0 = y_0 = </span><span class="si">{:4.2f}</span><span class="s1">$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x0</span><span class="o">/</span><span class="n">mm</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $mm$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$a1 = a2 =  $&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{:4.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a1</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $/mm$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;$z = $&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="si">{:4.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="n">cm</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39; $cm$&#39;</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>\
    <span class="sa">r</span><span class="s1">&#39;${\copyright}$ Fred van Goor, May 2022&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;facecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="s1">&#39;pad&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/dc6c3975e77c8aadb1d01e54001f165f/AiryBeam2D.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/21ae9405890b22f45f58c5466e44372c/AiryBeam2D.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/da2a8cafa691ce5dbf51dab96687360f/AiryBeam2D.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/46f8bfe8dac94f78ef9baaa20f2db0da/AiryBeam2D.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="_images/AiryBeam2D.png" class="plot-directive" src="_images/AiryBeam2D.png" />
</figure>
<p>ref: M. V. Berry and N. L. Balazs, “Nonspreading wave packets,” Am. J. Phys. 47, 264–267 (1979).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="2DAiryBeam.html#generation-of-a-2-dimensional-airy-beam-from-a-gaussian-laser-beam"><span class="std std-ref">Examples: Non-diffracting Airy beams</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Axicon">
<span class="sig-name descname"><span class="pre">Axicon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Axicon" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field through an axicon.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>phi</strong> (<em>int</em><em>, </em><em>float</em>) – top angle of the axicon in radiants</p></li>
<li><p><strong>n1</strong> – refractive index of the axicon material (default = 1.5)</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">phi</span><span class="o">=</span><span class="mf">179.7</span><span class="o">/</span><span class="mi">180</span><span class="o">*</span><span class="mf">3.1415</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Axicon</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">phi</span><span class="p">)</span> <span class="c1"># axicon with top angle phi, refractive index = 1.5, centered in grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Axicon</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">phi</span><span class="p">,</span> <span class="n">n1</span> <span class="o">=</span> <span class="mf">1.23</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem, refractive index = 1.23, shifted 2 mm in y direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Axicon</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="mf">1.23</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="BesselBeamWithAxicon.html#generation-of-a-bessel-beam-with-an-axicon"><span class="std std-ref">Example: Bessel beam with axicon</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.BeamMix">
<span class="sig-name descname"><span class="pre">BeamMix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fin2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.BeamMix" title="Link to this definition"></a></dt>
<dd><p><em>Addition of the fields Fin1 and Fin2.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin1</strong> (<em>Field</em>) – First field.</p></li>
<li><p><strong>Fin2</strong> – Second field</p></li>
<li><p><strong>Fin2</strong> – Field</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">BeamMix</span><span class="p">(</span><span class="n">F1</span> <span class="p">,</span> <span class="n">F2</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#splitting-and-mixing-beams"><span class="std std-ref">Manual: Splitting and mixing beams.</span></a></p></li>
<li><p><a class="reference internal" href="YoungsExperiment.html#young-s-experiment"><span class="std std-ref">Examples: Young’s experiment.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Begin">
<span class="sig-name descname"><span class="pre">Begin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Begin" title="Link to this definition"></a></dt>
<dd><p><em>Initiates a field with a grid size, a wavelength and a grid dimension.
By setting dtype to numpy.complex64 memory can be saved.
If dtype is not set (default = None), complex (equivalent to numpy.complex128) will be used for the field array.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> (<em>int</em><em>, </em><em>float</em>) – size of the square grid</p></li>
<li><p><strong>labda</strong> (<em>int</em><em>, </em><em>float</em>) – the wavelength of the output field</p></li>
<li><p><strong>N</strong> (<em>int</em>) – the grid dimension</p></li>
<li><p><strong>dtype</strong> (<em>complex</em><em>, </em><em>numpy.complex64</em><em>, </em><em>numpy.complex128</em><em> (</em><em>default = None</em><em>)</em>) – type of the field array</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">LightPipes</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="mi">20</span><span class="o">*</span><span class="n">mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wavelength</span> <span class="o">=</span> <span class="mi">500</span><span class="o">*</span><span class="n">nm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span>
<span class="go">&lt;LightPipes.field.Field object at 0x0000027AAF6E5908&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">.</span><span class="n">field</span>
<span class="go">array([[1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j],</span>
<span class="go">       [1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j],</span>
<span class="go">       [1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j],</span>
<span class="go">       [1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j],</span>
<span class="go">       [1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j, 1.+0.j]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">.</span><span class="n">siz</span>
<span class="go">0.02</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">.</span><span class="n">lam</span>
<span class="go">5.000000000000001e-07</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">.</span><span class="n">N</span>
<span class="go">5</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#starting-the-calculations"><span class="std std-ref">Manual: Starting the calculations.</span></a></p></li>
<li><p><a class="reference internal" href="DiffractionRoundHole.html#diffraction-from-a-circular-aperture"><span class="std std-ref">Examples: Diffraction from a circular aperture</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Centroid">
<span class="sig-name descname"><span class="pre">Centroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Centroid" title="Link to this definition"></a></dt>
<dd><p><em>Returns the centroid of the intensity distribution.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Fin</strong> (<em>Field</em>) – input field.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the coordinates and the closests array indices of the centroid: Xc, Yc, NXc, NYc</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, int, int]</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">LightPipes</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="mi">500</span><span class="o">*</span><span class="n">nm</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">25</span><span class="o">*</span><span class="n">mm</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">CircAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">x_shift</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">Fresnel</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="n">m</span><span class="p">)</span>
<span class="n">Xc</span><span class="p">,</span><span class="n">Yc</span><span class="p">,</span> <span class="n">NXc</span><span class="p">,</span> <span class="n">NYc</span> <span class="o">=</span> <span class="n">Centroid</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Xc = </span><span class="si">{:4.2f}</span><span class="s2"> mm, Yc = </span><span class="si">{:4.2f}</span><span class="s2"> mm&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Xc</span><span class="o">/</span><span class="n">mm</span><span class="p">,</span> <span class="n">Yc</span><span class="o">/</span><span class="n">mm</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Answer<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Xc</span> <span class="o">=</span> <span class="mf">4.96</span> <span class="n">mm</span><span class="p">,</span> <span class="n">Yc</span> <span class="o">=</span> <span class="mf">2.97</span> <span class="n">mm</span>
<span class="n">NXc</span> <span class="o">=</span>  <span class="mi">349</span><span class="p">,</span> <span class="n">NYc</span> <span class="o">=</span>  <span class="mi">309</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#centroid"><span class="std std-ref">Manual: Diagnostics: Centroid.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.CircAperture">
<span class="sig-name descname"><span class="pre">CircAperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.CircAperture" title="Link to this definition"></a></dt>
<dd><p><em>Inserts a circular aperture in the field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>int</em><em>, </em><em>float</em>) – radius of the aperture</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># A 3 mm radius circular aperture in the center of the grid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># alternative notations:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Shifted -3 mm in the y-direction.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircAperture</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span> <span class="c1"># Idem, old order of arguments for backward compatibility.</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#apertures-and-screens"><span class="std std-ref">Manual: Apertures and screens</span></a></p></li>
<li><p><a class="reference internal" href="DiffractionRoundHole.html#diffraction-from-a-circular-aperture"><span class="std std-ref">Examples: Diffraction from a circular aperture.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.CircScreen">
<span class="sig-name descname"><span class="pre">CircScreen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.CircScreen" title="Link to this definition"></a></dt>
<dd><p><em>Inserts a circular screen in the field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>R</strong> (<em>int</em><em>, </em><em>float</em>) – radius of the screen</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircScreen</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># A 3 mm radius circular screen in the center of the grid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># alternative notations:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircScreen</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Shifted -3 mm in the y-direction.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircScreen</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">CircScreen</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span> <span class="c1"># Idem, old order of arguments for backward compatibility.</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#apertures-and-screens"><span class="std std-ref">Manual: Apertures and screens</span></a></p></li>
<li><p><a class="reference internal" href="PoissonSpot.html#spot-of-poisson"><span class="std std-ref">Examples: Spot of Poisson</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Convert">
<span class="sig-name descname"><span class="pre">Convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Convert" title="Link to this definition"></a></dt>
<dd><p><em>Converts the field from a spherical variable coordinate to a normal coordinate system.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Fin</strong> (<em>Field</em>) – input field</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Convert</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># convert to normal coordinates</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="UnstableLaserResonator.html#unstable-laser-resonator"><span class="std std-ref">Examples: Unstable resonator</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.CylindricalLens">
<span class="sig-name descname"><span class="pre">CylindricalLens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.CylindricalLens" title="Link to this definition"></a></dt>
<dd><p><em>Inserts a cylindrical lens in the field</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>f</strong> (<em>int</em><em>, </em><em>float</em>) – focal length</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in the x-direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in the y-direction (default = 0.0)</p></li>
<li><p><strong>angle</strong> (<em>int</em><em>, </em><em>float</em>) – rotation angle (default = 0.0, horizontal)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">CylindricalLens</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">f</span><span class="p">)</span> <span class="c1">#Cylindrical lens in the center</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">CylindricalLens</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">f</span><span class="p">,</span> <span class="n">x_shift</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1">#idem, shifted 2 mm in x direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">CylindricalLens</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">f</span><span class="p">,</span> <span class="n">x_shift</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mf">30.0</span><span class="o">*</span><span class="n">deg</span><span class="p">)</span> <span class="c1">#idem, rotated 30 degrees</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="LaserModeTransformer.html#transformation-of-high-order-gauss-modes"><span class="std std-ref">Examples: Transformation of high order Gauss modes</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.D4sigma">
<span class="sig-name descname"><span class="pre">D4sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.D4sigma" title="Link to this definition"></a></dt>
<dd><p><em>Returns the width (</em> <span class="math notranslate nohighlight">\(D4\sigma\)</span> <em>) of the intensity distribution.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Fin</strong> (<em>Field</em>) – input field.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>widths in X and Y direction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float]</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">LightPipes</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">wavelength</span> <span class="o">=</span> <span class="mi">500</span><span class="o">*</span><span class="n">nm</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">25</span><span class="o">*</span><span class="n">mm</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">CircAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">x_shift</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">Fresnel</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="n">m</span><span class="p">)</span>
<span class="n">sx</span><span class="p">,</span> <span class="n">sy</span> <span class="o">=</span> <span class="n">D4sigma</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;sx = </span><span class="si">{:4.2f}</span><span class="s2"> mm, sy = </span><span class="si">{:4.2f}</span><span class="s2"> mm&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sx</span><span class="o">/</span><span class="n">mm</span><span class="p">,</span> <span class="n">sy</span><span class="o">/</span><span class="n">mm</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Answer<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sx</span> <span class="o">=</span> <span class="mf">6.19</span> <span class="n">mm</span><span class="p">,</span> <span class="n">sy</span> <span class="o">=</span> <span class="mf">6.30</span> <span class="n">mm</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#d4-sigma"><span class="std std-ref">Manual =&gt; Diagnostics =&gt; Beam width =&gt; D4sigma</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.FieldArray2D">
<span class="sig-name descname"><span class="pre">FieldArray2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ffield</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Nfieldsx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Nfieldsy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_sep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_sep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.FieldArray2D" title="Link to this definition"></a></dt>
<dd><p><em>Inserts an array of fields in the field</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>Ffield</strong> (<em>Field</em>) – field to be inserted</p></li>
<li><p><strong>Nfieldsx</strong> (<em>int</em><em>, </em><em>float</em>) – number of inserted field in x-direction</p></li>
<li><p><strong>Nfieldy</strong> (<em>int</em><em>, </em><em>float</em>) – number of inserted field in y-direction</p></li>
<li><p><strong>x_sep</strong> (<em>int</em><em>, </em><em>float</em>) – separation of the inserted fields in the x-direction</p></li>
<li><p><strong>y_sep</strong> (<em>int</em><em>, </em><em>float</em>) – separation of the inserted fields in the y-direction</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#Insert an array of lenses in the field    </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#Define the field, Ffield, to be inserted:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Nfield</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">size_field</span><span class="o">/</span><span class="n">size</span><span class="o">*</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ffield</span><span class="o">=</span><span class="n">Begin</span><span class="p">(</span><span class="n">size_field</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">Nfield</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ffield</span><span class="o">=</span><span class="n">CircAperture</span><span class="p">(</span><span class="n">Ffield</span><span class="p">,</span><span class="n">Dlens</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ffield</span><span class="o">=</span><span class="n">Lens</span><span class="p">(</span><span class="n">Ffield</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#Insert the Ffield&#39;s in the field F:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">FieldArray2D</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">Ffield</span><span class="p">,</span><span class="n">Nfields</span><span class="p">,</span><span class="n">Nfields</span><span class="p">,</span><span class="n">x_sep</span><span class="p">,</span><span class="n">y_sep</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ifields</span><span class="o">=</span><span class="n">Intensity</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="ShackHartmannSensor.html#shack-hartmann-sensor"><span class="std std-ref">Examples: Shack Hartmann sensor</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Forvard">
<span class="sig-name descname"><span class="pre">Forvard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usepyFFTW</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Forvard" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field using a FFT algorithm.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>z</strong> (<em>int</em><em>, </em><em>float</em>) – propagation distance</p></li>
<li><p><strong>usepyFFTW</strong> (<em>bool</em>) – use the pyFFTW Fast Fourier package (default = False)
Has no effect if _USEPYFFTW = True in config.py</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Examples<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Forvard</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">)</span> <span class="c1"># propagates the field 20 cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Forvard</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">,</span> <span class="n">usepyFFTW</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="c1"># propagates the field 20 cm using the pyFFTW package</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Forvard</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">,</span> <span class="n">usepyFFTW</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="c1"># propagates the field 20 cm using numpy FFT</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#fft-propagation-spectral-method"><span class="std std-ref">Manual: FFT propagation (spectral method).</span></a></p></li>
<li><p><a class="reference internal" href="DiffractionRoundHole.html#diffraction-from-a-circular-aperture"><span class="std std-ref">Examples: Diffraction from a circular aperture.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Forward">
<span class="sig-name descname"><span class="pre">Forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizenew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Nnew</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Forward" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field using direct integration.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>z</strong> (<em>int</em><em>, </em><em>float</em>) – propagation distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Forward</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="c1"># propagates the field 20 cm, for a new grid size of 10 mm and a new grid dimension 20</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#direct-integration"><span class="std std-ref">Manual: Direct integration.</span></a></p></li>
<li><p><a class="reference internal" href="manual.html#splitting-and-mixing-beams"><span class="std std-ref">Manual: Splitting and mixing beams.</span></a> (figure 10.)</p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Fresnel">
<span class="sig-name descname"><span class="pre">Fresnel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usepyFFTW</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Fresnel" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field using a convolution method.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>z</strong> (<em>int</em><em>, </em><em>float</em>) – propagation distance</p></li>
<li><p><strong>usepyFFTW</strong> (<em>bool</em>) – use the pyFFTW Fast Fourier package (default = False)
Has no effect if _USEPYFFTW = True in config.py</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Examples<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Fresnel</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">)</span> <span class="c1"># propagates the field 20 cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Fresnel</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">,</span> <span class="n">usepyFFTW</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="c1"># propagates the field 20 cm using the pyFFTW package</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Fresnel</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">,</span> <span class="n">usepyFFTW</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="c1"># propagates the field 20 cm using numpy fft</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#direct-integration-as-a-convolution-fft-approach"><span class="std std-ref">Manual: Direct integration as a convolution: FFT approach.</span></a></p></li>
<li><p><a class="reference internal" href="YoungsExperiment.html#young-s-experiment"><span class="std std-ref">Examples: Young’s experiment.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.GForvard">
<span class="sig-name descname"><span class="pre">GForvard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.GForvard" title="Link to this definition"></a></dt>
<dd><p><em>Propagates a pure Gaussian field using ABCD matrix theory.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field, must be pare Gaussian.</p></li>
<li><p><strong>z</strong> (<em>int</em><em>, </em><em>float</em>) – propagation distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">LightPipes</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">wavelength</span> <span class="o">=</span> <span class="mi">500</span><span class="o">*</span><span class="n">nm</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">7</span><span class="o">*</span><span class="n">mm</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">w0</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">mm</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">m</span>

<span class="n">F</span> <span class="o">=</span> <span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">GaussBeam</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">w0</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">GForvard</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>      
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.GLens">
<span class="sig-name descname"><span class="pre">GLens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.GLens" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field through an ideal thin lens using ABCD matrix theory. Only works for a pure Gaussian input field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field (must be pure Gaussian)</p></li>
<li><p><strong>f</strong> (<em>int</em><em>, </em><em>float</em>) – focal length of the lens</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers, pure Gauss).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>LightPipes.field.Field</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GLens</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#phase-and-intensity-filters"><span class="std std-ref">Manual: Phase and intensity filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Gain">
<span class="sig-name descname"><span class="pre">Gain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Isat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Lgain</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Gain" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field through a thin saturable gain sheet.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{out}(x,y) = F_{in}(x,y) e^{\alpha L_{gain}}\)</span>, with
<span class="math notranslate nohighlight">\(\alpha = \dfrac{\alpha_0}{1 + {2 I(x,y)}/{I_{sat}}}\)</span>.</p>
<p><span class="math notranslate nohighlight">\(2\alpha L_{gain}\)</span> is the net round-trip intensity gain. 
<span class="math notranslate nohighlight">\(\alpha_0\)</span> is the small-signal intensity gain and 
<span class="math notranslate nohighlight">\(I_{sat}\)</span> is the saturation intensity of the gain medium 
with a length <span class="math notranslate nohighlight">\(L_{gain}\)</span>.</p>
<p>The intensity must be doubled because of the left- and right 
propagating fields in a normal resonator. (If only one field is propagating in one direction (ring 
laser) you should double <span class="math notranslate nohighlight">\(I_{sat}\)</span> as well to remove the factor 2 in the denominator).</p>
<p>The gain sheet should be at one of the mirrors of a (un)stable laser resonator.</p>
<p>See: Rensch and Chester (1973).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>Isat</strong> (<em>int</em><em>, </em><em>float</em>) – saturation intensity</p></li>
<li><p><strong>alpha0</strong> (<em>int</em><em>, </em><em>float</em>) – small signal gain</p></li>
<li><p><strong>Lgain</strong> (<em>int</em><em>, </em><em>float</em>) – length of the gain medium</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Isat</span><span class="o">=</span><span class="mi">131</span><span class="o">*</span><span class="n">W</span><span class="o">/</span><span class="n">cm</span><span class="o">/</span><span class="n">cm</span><span class="p">;</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.0067</span><span class="o">/</span><span class="n">cm</span><span class="p">;</span> <span class="n">Lgain</span><span class="o">=</span><span class="mi">30</span><span class="o">*</span><span class="n">cm</span><span class="p">;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Gain</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">Isat</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">Lgain</span><span class="p">)</span> <span class="c1"># amplifacation of the field</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="UnstableLaserResonator.html#unstable-laser-resonator"><span class="std std-ref">Examples: Unstable laser resonator</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.GaussAperture">
<span class="sig-name descname"><span class="pre">GaussAperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.GaussAperture" title="Link to this definition"></a></dt>
<dd><p><em>Inserts an aperture with a Gaussian shape in the field.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{out}(x,y)= \sqrt{T}e^{ -\frac{ x^{2}+y^{2} }{2w^{2}} } F_{in}(x,y)\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>w</strong> (<em>int</em><em>, </em><em>float</em>) – 1/e intensity width</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
<li><p><strong>T</strong> (<em>int</em><em>, </em><em>float</em>) – center intensity transmission (default = 1.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="c1"># centered, T=1.0, width = w</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1"># idem, transmission = 0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span> <span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># idem, shifted in y direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1"># idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#apertures-and-screens"><span class="std std-ref">Manual: Apertures and screens.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.GaussBeam">
<span class="sig-name descname"><span class="pre">GaussBeam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doughnut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.GaussBeam" title="Link to this definition"></a></dt>
<dd><p><em>Creates a Gaussian beam in its waist.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>w0</strong> – size of the Gauss waist</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
<li><p><strong>tx</strong> (<em>int</em><em>, </em><em>float</em>) – tilt in radiants (default = 0.0)</p></li>
<li><p><strong>ty</strong> (<em>int</em><em>, </em><em>float</em>) – tilt in radiants (default = 0.0)</p></li>
<li><p><strong>doughnut</strong> (<em>bool</em>) – if True a dougnut mode is generated (default = False)</p></li>
<li><p><strong>LG</strong> (<em>bool</em>) – if True a (n,m) Laguerre-Gauss mode is generated, if False a Hermite Gauss mode (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w0</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">GaussBeam</span><span class="p">(</span><span class="n">w0</span><span class="p">,</span><span class="n">F</span><span class="p">)</span> <span class="c1">#TEM0,0 Hermite Gauss beam with size (radius) 3 mm in center of the grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">GaussBeam</span><span class="p">(</span><span class="n">w0</span><span class="p">,</span><span class="n">F</span><span class="p">,</span><span class="n">LG</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># LG2,5 Laguerre Gauss beam</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">GaussBeam</span><span class="p">(</span><span class="n">w0</span><span class="p">,</span><span class="n">F</span><span class="p">,</span><span class="n">doughnut</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># LG0,1* doughnut beam</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">GaussBeam</span><span class="p">(</span><span class="n">w0</span><span class="p">,</span><span class="n">F</span><span class="p">,</span><span class="n">doughnut</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">tx</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">mrad</span><span class="p">,</span> <span class="n">x_shift</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1">#  idem, tilted and shifted</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.GaussHermite">
<span class="sig-name descname"><span class="pre">GaussHermite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.GaussHermite" title="Link to this definition"></a></dt>
<dd><p><em>Substitutes a Hermite-Gauss mode (beam waist) in the field.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{m,n}(x,y,z=0) = A H_m\left(\dfrac{\sqrt{2}x}{w_0}\right)H_n\left(\dfrac{\sqrt{2}y}{w_0}\right)e^{-\frac{x^2+y^2}{w_0^2}}\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>w0</strong> (<em>int</em><em>, </em><em>float</em>) – Gaussian spot size parameter in the beam waist (1/e amplitude point)</p></li>
<li><p><strong>m</strong> (<em>int</em><em>, </em><em>float</em>) – mode index (default = 0.0)</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>float</em>) – mode index (default = 0.0)</p></li>
<li><p><strong>A</strong> (<em>int</em><em>, </em><em>float</em>) – amplitude (default = 1.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussHermite</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Fundamental Gauss mode, HG0,0 with a beam radius of 3 mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussHermite</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># Idem, HG3,0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussHermite</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span> <span class="c1"># Idem, HG3,1, amplitude 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussHermite</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="HermiteGaussModes.html#hermite-gauss-modes"><span class="std std-ref">Examples: Hermite Gauss modes.</span></a></p></li>
</ul>
</div>
<p>Reference:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span> <span class="n">Siegman</span><span class="p">,</span> <span class="s2">&quot;Lasers&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span> <span class="mi">642</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.GaussLaguerre">
<span class="sig-name descname"><span class="pre">GaussLaguerre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.GaussLaguerre" title="Link to this definition"></a></dt>
<dd><p><em>Substitutes a Laguerre-Gauss mode (beam waist) in the field.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{p,l}(x,y,z=0) = A \left(\rho\right)^{\frac{|l|}{2} }L^p_l(\rho)e^{-\frac{\rho}{2}}\cos(l\theta)\)</span>,</p>
<p>with: <span class="math notranslate nohighlight">\(\rho=\frac{2(x^2+y^2)}{w_0^2}\)</span></p>
<p><span class="math notranslate nohighlight">\(\theta=atan(y/x)\)</span></p>
<p>if <span class="math notranslate nohighlight">\(sincos = 0\)</span> replace <span class="math notranslate nohighlight">\(cos(l\theta)\)</span> by <span class="math notranslate nohighlight">\(exp(-il\theta)\)</span></p>
<p>if <span class="math notranslate nohighlight">\(sincos = 2\)</span> replace <span class="math notranslate nohighlight">\(cos(l\theta)\)</span> by <span class="math notranslate nohighlight">\(sin(l\theta)\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>w0</strong> (<em>int</em><em>, </em><em>float</em>) – Gaussian spot size parameter in the beam waist (1/e amplitude point)</p></li>
<li><p><strong>p</strong> (<em>int</em><em>, </em><em>float</em>) – mode index (default = 0.0)</p></li>
<li><p><strong>l</strong> (<em>int</em><em>, </em><em>float</em>) – mode index (default = 0.0)</p></li>
<li><p><strong>A</strong> (<em>int</em><em>, </em><em>float</em>) – amplitude (default = 1.0)</p></li>
<li><p><strong>ecs</strong> (<em>int</em><em>, </em><em>float</em>) – 0 = exp, 1 = cos, 2 = sin (default = 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussLaguerre</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Fundamental Gauss mode, LG0,0 with a beam radius of 3 mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussLaguerre</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># Idem, LG3,0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussLaguerre</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">A</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span> <span class="c1"># Idem, LG3,1, amplitude 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussLaguerre</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span> <span class="c1"># Idem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussLaguerre</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ecs</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="n">LG3</span><span class="p">,</span><span class="mi">1</span> <span class="k">with</span> <span class="n">exponential</span> <span class="n">phase</span> <span class="n">factor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussLaguerre</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ecs</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="n">LG3</span><span class="p">,</span><span class="mi">1</span> <span class="k">with</span> <span class="n">sine</span> <span class="n">phase</span> <span class="n">factor</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="LaguerreGaussModes.html#laguerre-gauss-modes"><span class="std std-ref">Examples: Laguerre Gauss modes.</span></a></p></li>
</ul>
</div>
<p>Reference:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span> <span class="n">Siegman</span><span class="p">,</span> <span class="s2">&quot;Lasers&quot;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span> <span class="mi">642</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.GaussScreen">
<span class="sig-name descname"><span class="pre">GaussScreen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.GaussScreen" title="Link to this definition"></a></dt>
<dd><p><em>Inserts a screen with a Gaussian shape in the field.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{out}(x,y)= \sqrt{1-(1-T)e^{ -\frac{ x^{2}+y^{2} }{w^{2}} }} F_{in}(x,y)\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>w</strong> (<em>int</em><em>, </em><em>float</em>) – 1/e intensity width</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
<li><p><strong>T</strong> (<em>int</em><em>, </em><em>float</em>) – center intensity transmission (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="c1"># centered, T=1.0, width = w</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1"># idem, transmission = 0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">T</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span> <span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># idem, shifted in y direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">GaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1"># idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#apertures-and-screens"><span class="std std-ref">Manual: Apertures and screens.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.IntAttenuator">
<span class="sig-name descname"><span class="pre">IntAttenuator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">att</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.IntAttenuator" title="Link to this definition"></a></dt>
<dd><p><em>Attenuates the intensity of the field.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{out}(x,y)=\sqrt{att}F_{in}(x,y)\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>att</strong> (<em>int</em><em>, </em><em>float</em>) – intensity attenuation factor (default = 0.5)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">IntAttenuator</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># attenuates the intensity of the field with a factor 0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">IntAttenuator</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">att</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">)</span> <span class="c1"># Idem, with a factor 0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">IntAttenuator</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#splitting-and-mixing-beams"><span class="std std-ref">Manual: Splitting and mixing beams.</span></a></p></li>
<li><p><a class="reference internal" href="MichelsonInterferometer.html#michelson-interferometer"><span class="std std-ref">Examples: Michelson interferometer.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Intensity">
<span class="sig-name descname"><span class="pre">Intensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Intensity" title="Link to this definition"></a></dt>
<dd><p><em>Calculates the intensity of the field.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(I(x,y)=F_{in}(x,y).F_{in}(x,y)^*\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>flag</strong> (<em>int</em><em>, </em><em>float</em>) – 0: no normalisation, 1: normalisation to 1, 2: normalized to 255 (for bitmaps) (default = 0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output intensity distribution (N x N square array of real numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>numpy.ndarray</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">I</span> <span class="o">=</span> <span class="n">Intensity</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># intensity of the field, no normalisation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">I</span> <span class="o">=</span> <span class="n">Intensity</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Idem, normalized to 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">I</span> <span class="o">=</span> <span class="n">Intensity</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># Idem, normalized to 255</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#graphing-and-visualisation"><span class="std std-ref">Manual: Graphing and visualisation.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Interpol">
<span class="sig-name descname"><span class="pre">Interpol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">magnif</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Interpol" title="Link to this definition"></a></dt>
<dd><p><em>Interpolates the field to a new grid size, grid dimension.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>new_size</strong> (<em>int</em><em>, </em><em>float</em>) – new grid size</p></li>
<li><p><strong>new_N</strong> (<em>int</em><em>, </em><em>float</em>) – new grid dimension</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift of the field in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift of the field in y direction (default = 0.0)</p></li>
<li><p><strong>angle</strong> (<em>int</em><em>, </em><em>float</em>) – rotation of the field in degrees (default = 0.0)</p></li>
<li><p><strong>magnif</strong> – magnification of the field amplitude (default = 1.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Interpol</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">50</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="c1"># interpolates the field to a grid size of 50 mm and a grid dimension of 200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Interpol</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">50</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem, shifted 2 mm in the y direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Interpol</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">50</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">magnif</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">)</span> <span class="c1"># Idem, magnifizes the field a factor 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Interpol</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">50</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#interpolation"><span class="std std-ref">Manual: Interpolation.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.LPdemo">
<span class="sig-name descname"><span class="pre">LPdemo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.LPdemo" title="Link to this definition"></a></dt>
<dd><p><em>Demonstrates the simulation of a two-holes interferometer.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A plot of the interference pattern and a listing of the Python script.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>matplotlib.image.AxesImage</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.LPhelp">
<span class="sig-name descname"><span class="pre">LPhelp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.LPhelp" title="Link to this definition"></a></dt>
<dd><p><em>Go to the LightPipes documentation website on:</em> <a class="reference external" href="https://opticspy.github.io/lightpipes/">https://opticspy.github.io/lightpipes/</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.LPtest">
<span class="sig-name descname"><span class="pre">LPtest</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.LPtest" title="Link to this definition"></a></dt>
<dd><p><em>Performs a test to check if the installation of the LightPipes package was successful.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>“LightPipes for Python: test passed.” if successful, “Test failed” if not.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Lens">
<span class="sig-name descname"><span class="pre">Lens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Lens" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field through an ideal, thin lens. If the input field is pure Gaussian, the ABCD matrix theory is used.</em></p>
<p>The field is multiplied by a phase given by:
<span class="math notranslate nohighlight">\(F_{out}(x,y)=e^{-j\frac{2\pi}{\lambda}\left(\frac{(x-x_{shift})^2+(y-y_{shift})^2}{2f}\right)}F_{in}(x,y)\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>f</strong> (<em>int</em><em>, </em><em>float</em>) – focal length of the lens</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Lens</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">50</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># propagate through lens with focal length of 50 mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Lens</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">50</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">x_shift</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem, shifted 5 mm in x direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Lens</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">50</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#phase-and-intensity-filters"><span class="std std-ref">Manual: Phase and intensity filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.LensFarfield">
<span class="sig-name descname"><span class="pre">LensFarfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.LensFarfield" title="Link to this definition"></a></dt>
<dd><p><em>Use a direct FFT approach to calculate the far field of the input field.</em>
<em>Given the focal length f, the correct scaling is applied and the</em>
<em>output field will have it’s values for size and dx correctly set.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>f</strong> (<em>int</em><em>, </em><em>float</em>) – focal length of the lens</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><p><cite>LightPipes.field.Field</cite></p>
<p>The focus(=”far field”) is related to the nearfield phase and intensity
via the Fourier transform. Applying the correct scalings we can immediately
calculate the focus of a measured wavefront.
Maths relations: [e.g. Tyson Fourier Optics]</p>
<p>lam     [m] = wavelength lambda
f_L     [m] = focal length of lens/focusing optic
N       [1] = grid size NxN, assume square for now
L       [m] = size of FOV in the near field
dx      [m] = L/N grid spacing in near field
L’      [m] = size of FOV in focal plane
dx’     [m] = grid spacing in focal plane</p>
<dl class="simple">
<dt>lam * f_L = dx’ * L</dt><dd><p>= dx * L’
= dx * dx’ * N</p>
</dd>
</dl>
<p>given: N, dx’, lam, f_L
lemma: L’ = N * dx’
required: L, dx
–&gt; L = lam * f_L / dx’
–&gt; dx = L / N = lam * f_L / (N * dx’) = lam * f_L / L’</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.LensForvard">
<span class="sig-name descname"><span class="pre">LensForvard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.LensForvard" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field in a variable spherical coordinate system using Forvard propagator.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>f</strong> (<em>int</em><em>, </em><em>float</em>) – focal length</p></li>
<li><p><strong>z</strong> (<em>int</em><em>, </em><em>float</em>) – propagation distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">LensForvard</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">)</span> <span class="c1"># propagate 20 cm with spherical coordinates given by the focal length of 100 mm</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#spherical-coordinates"><span class="std std-ref">Manual: Spherical coordinates.</span></a></p></li>
<li><p><a class="reference internal" href="UnstableLaserResonator.html#unstable-laser-resonator"><span class="std std-ref">Examples: Unstable laser resonator.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.LensFresnel">
<span class="sig-name descname"><span class="pre">LensFresnel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.LensFresnel" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field in a variable spherical coordinate system using Fresnel propagator.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>f</strong> (<em>int</em><em>, </em><em>float</em>) – focal length</p></li>
<li><p><strong>z</strong> (<em>int</em><em>, </em><em>float</em>) – propagation distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">LensFresnel</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">20</span><span class="o">*</span><span class="n">cm</span><span class="p">)</span> <span class="c1"># propagate 20 cm with spherical coordinates given by the focal length of 100 mm</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#spherical-coordinates"><span class="std std-ref">Manual: Spherical coordinates.</span></a></p></li>
<li><p><a class="reference internal" href="UnstableLaserResonator.html#unstable-laser-resonator"><span class="std std-ref">Examples: Unstable laser resonator.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.MultIntensity">
<span class="sig-name descname"><span class="pre">MultIntensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Intens</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.MultIntensity" title="Link to this definition"></a></dt>
<dd><p><em>Multiplies the field with a given intensity distribution.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>Intens</strong> (<em>numpy.ndarray</em><em>, </em><em>float</em><em>, </em><em>int</em>) – N x N square array of real numbers or scalar</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Int</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">([</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">Int</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mf">10.0</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="mf">5.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">MultIntensity</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">Int</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#user-defined-phase-and-intensity-filters"><span class="std std-ref">Manual: User defined phase and intensity filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.MultPhase">
<span class="sig-name descname"><span class="pre">MultPhase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Phi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.MultPhase" title="Link to this definition"></a></dt>
<dd><p><em>Multiplies the field with a given phase distribution.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>Phi</strong> (<em>numpy.ndarray</em><em>, </em><em>int</em><em>, </em><em>float</em>) – N x N square array of real numbers or scalar</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># multiply with a phase distribution:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Phi</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">([</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">N</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">Phi</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mf">10.0</span><span class="p">)</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="mf">5.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">MultPhase</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">Phi</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># multiply with a scalar:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">MultPhase</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mf">0.12345</span><span class="o">*</span><span class="n">rad</span><span class="p">)</span> <span class="c1"># multiplies the field with a constant phase factor of 0.12345 rad</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#user-defined-phase-and-intensity-filters"><span class="std std-ref">Manual: User defined phase and intensity filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Normal">
<span class="sig-name descname"><span class="pre">Normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Normal" title="Link to this definition"></a></dt>
<dd><p><em>Normalizes the field using beam power.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{out}(x,y)= \frac{F_{in}(x,y)}{\sqrt{P}}\)</span></p>
<p>with: <span class="math notranslate nohighlight">\(P=\int \int F_{in}(x,y)^2 dx dy\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Fin</strong> (<em>Field</em>) – input field</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Normal</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#field-normalization"><span class="std std-ref">Manual: Diagnostics: Field normalization.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Phase">
<span class="sig-name descname"><span class="pre">Phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unwrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rad'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blank_eps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Phase" title="Link to this definition"></a></dt>
<dd><p><em>Calculates the phase of the field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>unwrap</strong> (<em>bool</em>) – Call PhaseUnwrap on the extracted Phase (default = False)</p></li>
<li><p><strong>units</strong> (<em>string</em>) – ‘opd’: returned in [meters] of optical path length
‘lam’: returned in multiples of lambda
‘rad’: returned in multiples of 2pi phase jumps (default)</p></li>
<li><p><strong>blank_eps</strong> (<em>int</em><em>, </em><em>None</em>) – [fraction] of max. Intensity at which to blank the phase
and replace the value with numpy.nan (e.g. 1e-3==0.1%)
Set to 0 or None to disable</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output phase distribution (N x N square array of real numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>numpy.ndarray</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># returns phase distribution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">unwrap</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="c1"># Idem, phase unwrapped</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">Phase</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;lam&#39;</span><span class="p">)</span> <span class="c1"># phase in multiples of wavelength</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#graphing-and-visualisation"><span class="std std-ref">Manual: Graphing and visualisation.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.PhaseSpiral">
<span class="sig-name descname"><span class="pre">PhaseSpiral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.PhaseSpiral" title="Link to this definition"></a></dt>
<dd><p><em>Multiplies Fin with a spiral phase distribution.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>m</strong> (<em>int</em><em>, </em><em>float</em>) – Order of the spiral (default = 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">order</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">PhaseSpiral</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">m</span><span class="o">=</span><span class="n">order</span><span class="p">)</span> <span class="c1"># multiplies the field with a spiral phase distribution of order 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.PhaseUnwrap">
<span class="sig-name descname"><span class="pre">PhaseUnwrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Phi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.PhaseUnwrap" title="Link to this definition"></a></dt>
<dd><p><em>Unwraps (removes jumps of pi radians) the phase.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Phi</strong> (<em>numpy</em>) – input phase distribution</p></li>
<li><p><strong>Phi</strong> – Order of the spiral (default = 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output phase distribution (N x N square array of real numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>numpy.ndarray</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">PhaseUnwrap</span><span class="p">(</span><span class="n">Phi</span><span class="p">)</span> <span class="c1"># unwraps the phase distribution Phi</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.PipFFT">
<span class="sig-name descname"><span class="pre">PipFFT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.PipFFT" title="Link to this definition"></a></dt>
<dd><p><em>Performs a 2D Fourier transform of the field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>float</em>) – 1 = forward transform, -1 = back transform (default = 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PipFFT</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># forward transform</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PipFFT</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># back transform</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#fft-and-spatial-filters"><span class="std std-ref">Manual: FFT and spatial filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.PlaneWave">
<span class="sig-name descname"><span class="pre">PlaneWave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.PlaneWave" title="Link to this definition"></a></dt>
<dd><p><em>Creates a (circular) plane wavefront.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>w</strong> – diameter of the plane wave</p></li>
<li><p><strong>tx</strong> (<em>int</em><em>, </em><em>float</em>) – tilt in radiants (default = 0.0)</p></li>
<li><p><strong>ty</strong> (<em>int</em><em>, </em><em>float</em>) – tilt in radiants (default = 0.0)</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PlaneWave</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># plane wave with diameter of 2 mm at center of the grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PlaneWave</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem at x=5mm, y=0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PlaneWave</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">ty</span> <span class="o">=</span> <span class="mf">1.0</span><span class="o">*</span><span class="n">mrad</span><span class="p">)</span> <span class="c1"># Idem at x=5mm, y=0.0, tilted 1.0 mrad</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PlaneWave</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">*</span><span class="n">mrad</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.PointSource">
<span class="sig-name descname"><span class="pre">PointSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.PointSource" title="Link to this definition"></a></dt>
<dd><p><em>Creates a point source.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>x</strong> (<em>int</em><em>, </em><em>float</em>) – x-position of the point source (default = 0.0)</p></li>
<li><p><strong>y</strong> (<em>int</em><em>, </em><em>float</em>) – y-position of the point source (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PointSource</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># point source at center of the grid</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PointSource</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># point source at x=5mm, y=0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">PointSource</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">5</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Power">
<span class="sig-name descname"><span class="pre">Power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Power" title="Link to this definition"></a></dt>
<dd><p><em>Calculates the total power.</em></p>
<div class="math notranslate nohighlight">
\[P=\int \int(|F_{in}(x,y)|)^2dxdy\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Fin</strong> (<em>Field</em>) – input field</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output power</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Power</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># returns the power of the field F</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Propagate">
<span class="sig-name descname"><span class="pre">Propagate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UseFresnel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UseForvard</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Propagate" title="Link to this definition"></a></dt>
<dd><p><em>Experimental general propagation command</em></p>
<p>Propagate is an experimental propagation command which selects the best propagation routine automatically.
The idea is to use something like the Fesnel number to select the Forvard, GForvard or the Fresnel command.
Please provide us with tips to improve this command by starting an issue on our github repository!</p>
<p>At this moment the code looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Propagate</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">UseFresnel</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">UseForvard</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">xs</span><span class="p">,</span><span class="n">ys</span><span class="o">=</span><span class="n">D4sigma</span><span class="p">(</span><span class="n">Fin</span><span class="p">)</span>
    <span class="n">M</span><span class="o">=</span><span class="mi">10</span>
    <span class="n">NF</span><span class="o">=</span><span class="n">M</span><span class="o">*</span><span class="p">(((</span><span class="n">xs</span><span class="o">**</span><span class="mi">4</span><span class="p">)</span><span class="o">/</span><span class="n">Fin</span><span class="o">.</span><span class="n">lam</span><span class="p">)</span><span class="o">**</span><span class="mf">0.333</span><span class="p">)</span><span class="o">/</span><span class="n">z</span> <span class="c1"># Check with formula given by jjmelko in issue 59</span>
    <span class="c1">#NF=xs*xs/Fin.lam/z #Check with Fresnel number</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">NF</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">Fin</span><span class="o">.</span><span class="n">_IsGauss</span><span class="p">:</span> <span class="c1">#obvious choice ...</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;using GForvard, pure Gauss field&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">GForvard</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">UseFresnel</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;forced to use Fresnel&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Fresnel</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">UseForvard</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;forced to use Forvard&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Forvard</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">NF</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;using Fresnel because NF = </span><span class="si">{:4.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">NF</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">Fresnel</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;using Forvard because NF = </span><span class="si">{:4.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">NF</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">Forvard</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.RandomIntensity">
<span class="sig-name descname"><span class="pre">RandomIntensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">123</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.RandomIntensity" title="Link to this definition"></a></dt>
<dd><p><em>Adds random intensity to the field</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>seed</strong> (<em>int</em><em>, </em><em>float</em>) – seed number for the random noise generator (default = 123)</p></li>
<li><p><strong>noise</strong> (<em>int</em><em>, </em><em>float</em>) – level of the noise (default = 1.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RandomIntensity</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># adds noise to the field</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RandomIntensity</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">49</span><span class="p">)</span> <span class="c1"># Idem, with seed 49</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RandomIntensity</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">noise</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span> <span class="c1"># adds noise to the field with amplitude 0.1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#random-filters"><span class="std std-ref">Manual: Random filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.RandomPhase">
<span class="sig-name descname"><span class="pre">RandomPhase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">456</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxPhase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.141592653589793</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.RandomPhase" title="Link to this definition"></a></dt>
<dd><p><em>Adds random phase to the field</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>seed</strong> (<em>int</em><em>, </em><em>float</em>) – seed number for the random noise generator (default = 456)</p></li>
<li><p><strong>maxPhase</strong> (<em>int</em><em>, </em><em>float</em>) – max value of the phase (default = 3.1415 (pi))</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RandomPhase</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># adds noise to the phase of the field</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RandomPhase</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">seed</span> <span class="o">=</span> <span class="mi">49</span><span class="p">)</span> <span class="c1"># Idem, with seed 49</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RandomPhase</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">maxPhase</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span> <span class="c1"># adds phase-noise to the field with maximum value 0.1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#random-filters"><span class="std std-ref">Manual: Random filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.RectAperture">
<span class="sig-name descname"><span class="pre">RectAperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.RectAperture" title="Link to this definition"></a></dt>
<dd><p><em>Inserts a rectangular aperture in the field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>sx</strong> (<em>int</em><em>, </em><em>float</em>) – width of the aperture</p></li>
<li><p><strong>sy</strong> (<em>int</em><em>, </em><em>float</em>) – height of the aperture</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
<li><p><strong>angle</strong> (<em>int</em><em>, </em><em>float</em>) – rotation angle in degrees (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RectAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># A 3 x 4 mm rectangular aperture in the center of the grid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RectAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem, shifted -3 mm in the y-direction.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RectAperture</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#apertures-and-screens"><span class="std std-ref">Manual: Apertures and screens</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.RectScreen">
<span class="sig-name descname"><span class="pre">RectScreen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.RectScreen" title="Link to this definition"></a></dt>
<dd><p><em>Inserts a rectangular screen in the field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>sx</strong> (<em>int</em><em>, </em><em>float</em>) – width of the screen</p></li>
<li><p><strong>sy</strong> (<em>int</em><em>, </em><em>float</em>) – height of the screen</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
<li><p><strong>angle</strong> (<em>int</em><em>, </em><em>float</em>) – rotation angle in degrees (default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RectScreen</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># A 3 x 4 mm rectangular screen in the center of the grid.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RectScreen</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem, shifted -3 mm in the y-direction.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">RectScreen</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mi">4</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#apertures-and-screens"><span class="std std-ref">Manual: Apertures and screens</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.RowOfFields">
<span class="sig-name descname"><span class="pre">RowOfFields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ffield</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Nfields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.RowOfFields" title="Link to this definition"></a></dt>
<dd><p><em>Inserts an row of fields in the field</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>Ffield</strong> (<em>Field</em><em>, </em><em>numpy.ndarray</em>) – field to be inserted</p></li>
<li><p><strong>Nfields</strong> (<em>int</em><em>, </em><em>float</em>) – number of inserted field in x-direction</p></li>
<li><p><strong>sep</strong> (<em>int</em><em>, </em><em>float</em>) – separation of the inserted fields in the x-direction</p></li>
<li><p><strong>y</strong> (<em>int</em><em>, </em><em>float</em>) – position of the row in the y-direction (Default = 0.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#Insert a row of fields or numpy arrays in the input field at y (Default=0.0):    </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">Begin</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#Define the field, Ffield, to be inserted:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Nfield</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">size_field</span><span class="o">/</span><span class="n">size</span><span class="o">*</span><span class="n">N</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ffield</span><span class="o">=</span><span class="n">Begin</span><span class="p">(</span><span class="n">size_field</span><span class="p">,</span><span class="n">wavelength</span><span class="p">,</span><span class="n">Nfield</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ffield</span><span class="o">=</span><span class="n">CircAperture</span><span class="p">(</span><span class="n">Ffield</span><span class="p">,</span><span class="n">Dlens</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ffield</span><span class="o">=</span><span class="n">Lens</span><span class="p">(</span><span class="n">Ffield</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#Insert the Ffield&#39;s in the field F:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span><span class="o">=</span><span class="n">RowOfFields</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">Ffield</span><span class="p">,</span><span class="n">Nfields</span><span class="p">,</span><span class="n">sep</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ifields</span><span class="o">=</span><span class="n">Intensity</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="MultiHoleAndSlit.html#multi-holes-and-slits"><span class="std std-ref">Examples: Multi- holes and slits.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Steps">
<span class="sig-name descname"><span class="pre">Steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nstep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_ram</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_scipy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Steps" title="Link to this definition"></a></dt>
<dd><p><em>Propagates the field a distance, nstep x z, in nstep steps in a
medium with a complex refractive index stored in the
square array refr.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>z</strong> (<em>int</em><em>, </em><em>float</em>) – propagation distance per step</p></li>
<li><p><strong>nstep</strong> (<em>int</em><em>, </em><em>float</em>) – number of steps (default = 1)</p></li>
<li><p><strong>refr</strong> (<em>numpy.ndarray</em>) – refractive index (N x N array of complex numbers) (default = 1.0)</p></li>
<li><p><strong>save_ram</strong> (<em>bool</em>) – saves ram but slower! (default = False)</p></li>
<li><p><strong>use_scipy</strong> (<em>bool</em>) – should not be used; for development only! (default = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#finite-difference-method"><span class="std std-ref">Manual: Finite difference method.</span></a></p></li>
<li><p><a class="reference internal" href="PropagationLensLikeMedium.html#propagation-in-a-lens-like-absorptive-medium"><span class="std std-ref">Examples: Propagation in a lens-like, absorptive medium.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Strehl">
<span class="sig-name descname"><span class="pre">Strehl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Strehl" title="Link to this definition"></a></dt>
<dd><p><em>Calculates the Strehl value of the field</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Fin</strong> (<em>Field</em>) – input field</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Strehl value of the field</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">S</span> <span class="o">=</span> <span class="n">Strehl</span><span class="p">(</span><span class="n">F</span><span class="p">)</span> <span class="c1"># returns the Strehl value of the field</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#strehl-ratio"><span class="std std-ref">Manual: Diagnostics: Strehl ratio.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.SubIntensity">
<span class="sig-name descname"><span class="pre">SubIntensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Intens</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.SubIntensity" title="Link to this definition"></a></dt>
<dd><p><em>Substitutes  a given intensity distribution in the field with.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>Intens</strong> (<em>numpy.ndarray</em><em>, </em><em>int</em><em>, </em><em>float</em>) – N x N square array of real numbers or scalar</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#user-defined-phase-and-intensity-filters"><span class="std std-ref">Matlab: User defined phase and intensity filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.SubPhase">
<span class="sig-name descname"><span class="pre">SubPhase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Phi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.SubPhase" title="Link to this definition"></a></dt>
<dd><p><em>Substitutes  a given phase distribution in the field with.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Phi</strong> (<em>numpy.ndarray</em><em>, </em><em>int</em><em>, </em><em>float</em>) – N x N square array of real numbers or scalar</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#user-defined-phase-and-intensity-filters"><span class="std std-ref">Manual: User defined phase and intensity filters.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.SuperGaussAperture">
<span class="sig-name descname"><span class="pre">SuperGaussAperture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.SuperGaussAperture" title="Link to this definition"></a></dt>
<dd><p><em>Inserts an aperture with a super-Gaussian shape in the field.</em></p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(F_{out}(x,y)= \sqrt{T}e^{ -\left [ \frac{ x^{2}+y^{2} }{2w^{2}} \right ]^n } F_{in}(x,y)\)</span></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>w</strong> (<em>int</em><em>, </em><em>float</em>) – 1/e intensity width</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>float</em>) – power of the super Gauss (default = 2.0)</p></li>
<li><p><strong>x_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in x direction (default = 0.0)</p></li>
<li><p><strong>y_shift</strong> (<em>int</em><em>, </em><em>float</em>) – shift in y direction (default = 0.0)</p></li>
<li><p><strong>T</strong> (<em>int</em><em>, </em><em>float</em>) – center intensity transmission (default = 1.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">SuperGaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="c1"># centered, T=1.0, width = w, power = 2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">SuperGaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">21</span><span class="p">)</span> <span class="c1"># idem, power = 21</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">SuperGaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span> <span class="n">y_shift</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span> <span class="o">*</span><span class="n">mm</span><span class="p">)</span> <span class="c1"># idem, shifted in y direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">SuperGaussAperture</span><span class="p">(</span><span class="n">Fin</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.0</span><span class="o">*</span><span class="n">mm</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1"># idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#apertures-and-screens"><span class="std std-ref">Manual: Apertures and screens.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Tilt">
<span class="sig-name descname"><span class="pre">Tilt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ty</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Tilt" title="Link to this definition"></a></dt>
<dd><p><em>Tilts the field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>tx</strong> (<em>int</em><em>, </em><em>float</em>) – tilt in radians</p></li>
<li><p><strong>ty</strong> (<em>int</em><em>, </em><em>float</em>) – tilt in radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Tilt</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">tx</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">mrad</span><span class="p">,</span> <span class="n">ty</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">mrad</span><span class="p">)</span> <span class="c1"># wavefront tilt of 2 mrad in x and 1 mrad in y direction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Tilt</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">mrad</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">mrad</span><span class="p">)</span> <span class="c1"># Idem</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="MichelsonInterferometer.html#michelson-interferometer"><span class="std std-ref">Examples: Michelson interferometer.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.Zernike">
<span class="sig-name descname"><span class="pre">Zernike</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'opd'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.Zernike" title="Link to this definition"></a></dt>
<dd><p><em>Substitutes a Zernike aberration phase distribution in the field.</em></p>
<p><span class="math notranslate nohighlight">\(F_{out}(x,y)=e^{\phi^m_n (x,y)}F_{in}(x,y)\)</span></p>
<blockquote>
<div><p>with:</p>
</div></blockquote>
<p><span class="math notranslate nohighlight">\(\phi^m_n(x,y)=-j \frac{2 \pi }{ \lambda } Z^m_n {(\rho (x,y) ,\theta (x,y)) }\)</span></p>
<p><span class="math notranslate nohighlight">\(\rho(x,y)=  \sqrt{ \frac{x^2+y^2}{R^2} }\)</span></p>
<p><span class="math notranslate nohighlight">\(\theta (x,y)=atan \big( \frac{y}{x} \big)\)</span></p>
<p><span class="math notranslate nohighlight">\(Z^m_n(\rho , \theta)=A \sqrt{ \frac{2(n+1)}{1+\delta_{m0}} } V^m_n(\rho)cos(m\theta)\)</span></p>
<p><span class="math notranslate nohighlight">\(Z^{-m}_n(\rho , \theta)=A \sqrt{ \frac{2(n+1)}{1+\delta_{m0}} }V^m_n(\rho)sin(m\theta)\)</span></p>
<p><span class="math notranslate nohighlight">\(V^m_n(\rho)= \sum_{s=0}^{ \frac{n-m}{2} }  \frac{(-1)^s(n-s)!}{s!( \frac{n+m}{2}-s)!( \frac{n-m}{2}-s )! } \rho^{n-2s}\)</span></p>
<p><span class="math notranslate nohighlight">\(\delta_{m0}= \begin{cases}1 &amp; m = 0\\0 &amp; m  \neq  0\end{cases}\)</span></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Fin</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>float</em>) – radial order</p></li>
<li><p><strong>m</strong> (<em>int</em><em>, </em><em>float</em>) – azimuthal order, n-|m| must be even, |m|&lt;=n</p></li>
<li><p><strong>R</strong> (<em>int</em><em>, </em><em>float</em>) – radius of the aberrated aperture</p></li>
<li><p><strong>A</strong> (<em>int</em><em>, </em><em>float</em>) – size of the aberration</p></li>
<li><p><strong>norm</strong> (<em>bool</em>) – if True, normalize integral(Z over unit circle)=1, if False
Z(rho=1)=1 on edge (-&gt; True=rms const, False=PtV const) (default = True)</p></li>
<li><p><strong>units</strong> (<em>string</em>) – ‘opd’: A given in meters as optical path difference (default = ‘opd’)
‘lam’: A given in multiples of lambda
‘rad’: A given in multiples of 2pi</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p>if norm=True and Aunit=’lambda’ and A=1.0, the wavefront
will have an rms error of 1lambda, but PtV depending on n/m.
If norm=False and Aunit=’lambda’ and A=1.0, the wavefront will
have a PtV value of 2lambda (+ and -1 lambda!), but rms error
depending on n/m.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#zernike-polynomials"><span class="std std-ref">Manual: Zernike polynomials.</span></a></p></li>
<li><p><a class="reference internal" href="examples.html#zernike-aberration"><span class="std std-ref">Examples: Zernike aberration.</span></a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Zernike_polynomials">https://en.wikipedia.org/wiki/Zernike_polynomials</a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.ZernikeFilter">
<span class="sig-name descname"><span class="pre">ZernikeFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">F</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_terms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.ZernikeFilter" title="Link to this definition"></a></dt>
<dd><p><em>Compute the input field’s wavefront, filter out the specified
Zernike orders and return the field with filtered wavefront.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>j_terms</strong> (<em>float</em><em>, </em><em>int</em>) – iterable of int which terms to filter. Given in Noll notation.</p></li>
<li><p><strong>R</strong> – radius of Zernike definition</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>output field (N x N square array of complex numbers).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>LightPipes.field.Field</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.ZernikeFit">
<span class="sig-name descname"><span class="pre">ZernikeFit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">F</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_terms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lam'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.ZernikeFit" title="Link to this definition"></a></dt>
<dd><p><em>Fit the first N terms (Noll indexing) to the given Field.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>F</strong> (<em>Field</em>) – input field</p></li>
<li><p><strong>j_terms</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>list array</em>) – if j_terms is a number, first j_terms terms will be fitted if j_terms is a collection (list, array), each number should represent one noll index to fit.</p></li>
<li><p><strong>R</strong> (<em>int</em><em>,</em><em>float</em>) – beam radius on which the Zernike coefficients should be defined.</p></li>
<li><p><strong>norm</strong> – if True normalization (default = True)</p></li>
<li><p><strong>units</strong> – ‘opd’: A given in meters as optical path difference 
‘lam’: A given in multiples of lambda (default = ‘lam’)
‘rad’: A given in multiples of 2pi</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(j_terms, A_fits)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of int, float</p>
</dd>
</dl>
<p>The phase will be ignored at points with low intensity, but should unwrap
correctly in valid region.</p>
<p>Piston term (j=1 / n,m=0) is always necessary for fitting but generally
meaningless in the result.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.ZernikeName">
<span class="sig-name descname"><span class="pre">ZernikeName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Noll</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.ZernikeName" title="Link to this definition"></a></dt>
<dd><p><em>Returns the name of Zernike Noll term</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Noll</strong> (<em>int</em><em>, </em><em>float</em>) – Noll term (1 .. 21)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>name of Noll Zernike term</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="examples.html#zernike-aberration"><span class="std std-ref">Examples: Zernike aberration.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.ZernikeName2Noll">
<span class="sig-name descname"><span class="pre">ZernikeName2Noll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.ZernikeName2Noll" title="Link to this definition"></a></dt>
<dd><p><em>Returns the Noll index of the Zernike term</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zname</strong> (<em>string</em>) – Zernike term</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Noll index</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="examples.html#zernike-aberration"><span class="std std-ref">Examples: Zernike aberration.</span></a></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.ZonePlate">
<span class="sig-name descname"><span class="pre">ZonePlate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Fin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N_zones</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PassEvenZones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.ZonePlate" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="LightPipes.noll_to_zern">
<span class="sig-name descname"><span class="pre">noll_to_zern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">j</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#LightPipes.noll_to_zern" title="Link to this definition"></a></dt>
<dd><p><em>Convert linear Noll index to tuple of Zernike indices.</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>j</strong> (<em>int</em><em>, </em><em>float</em>) – the linear Noll coordinate, n is the radial Zernike index and m is the azimuthal Zernike index.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>name of Noll Zernike term</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string (n, m) tuple of Zernike indices</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="manual.html#zernike-polynomials"><span class="std std-ref">Manual: Zernike polynomials.</span></a></p></li>
<li><p><a class="reference external" href="https://oeis.org/A176988">https://oeis.org</a></p></li>
<li><p><a class="reference external" href="https://github.com/tvwerkhoven">Tim van Werkhoven, https://github.com/tvwerkhoven</a></p></li>
<li><p><a class="reference internal" href="examples.html#zernike-aberration"><span class="std std-ref">Examples: Zernike aberration.</span></a></p></li>
</ul>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="support.html" class="btn btn-neutral float-left" title="3. Support." accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="UserDefinedFunctions.html" class="btn btn-neutral float-right" title="5. User defined functions." accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Fred van Goor.
      <span class="lastupdated">Last updated on Aug 06, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>